#
## ì›¹ êµ¬ì¡°ì™€ ì•„í‚¤í…ì²˜ ë¦¬ë·°
ê°„ë‹¨í•˜ê³  ë°˜ë“¯í•˜ê²Œ ë˜ì–´ìˆëŠ”ê²ƒì´ ìŠ¤í”„ë§ë¶€íŠ¸ì´ë‹¤.   
MVC  íŒ¨í„´, ê³„ì¸µ ì—­í•  ì†”ë£¨ì…˜ ëª¨ë¸   

* ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ êµ¬ì¡° + ë™ì‘ íë¦„   
  í´ë¼ì´ì–¸íŠ¸ - ì„œë²„ ëª¨ë¸  =. í•µì‹¬ì€ ì›¹(ë¹„ì—°ê²°ì§€í–¥ í”„ë¡œí† ì½œ)   
  ìš”ì²­/ì‘ë‹µ ì‚¬ì´í´ ì´í•´(HTTP)   
   

* MVC íŒ¨í„´ + ê³„ì¸µë³„ ì—­í•    
   
	Controller, Service, Repository  ì—­í•    
	View í•„ìš”ì„± + API ê¸°ë°˜ ì„œë¹„ìŠ¤ ëŒ€ì²´    
   
* RESTful ì„¤ê³„ ê¸°ë³¸ ì›ë¦¬   
	Resource ê¸°ë°˜ URI ì„¤ê³„   
	Stateless êµ¬ì¡°
   
   
* ì†”ë£¨ì…˜ 9ë‹¨ê³„   
  1. í´ë¼ì´ì–¸íŠ¸ í˜¸ì¶œ   
  2. ì„œë¹„ìŠ¤í˜¸ì¶œ   
  3. ì„œë¹„ìŠ¤ ì—”í‹°í‹°   
  4. ì—”í‹°í‹° DB      
  5. ë¦¬í„´   
  6. ë¦¬í„´   
  7. ë¦¬í„´   
  8. ì½˜íŠ¸ë¡¤ëŸ¬ ë·° ì„ íƒ   
  9. ì‘ë‹µ í´ë¼ì´ì–¸íŠ¸ ë³´ë‚´ê¸°   
   
* ìŠ¤í”„ë§ ë¶€íŠ¸ ê³„ì¸µ êµ¬ì¡°   
1. ë„ë©”ì¸(ì—”í‹°í‹°, dto)   
2. ë¦¬í¬ì§€í† ë¦¬   
3. ì„œë¹„ìŠ¤   
4. ì½˜íŠ¸ë¡¤ëŸ¬   
5. ë·°   
   
* ì½˜íŠ¸ë¡¤ëŸ¬ 6ê°€ì§€ ê¸°ëŠ¥   
ê°’ì¶”ì¶œ, ê°’ ê²€ì¦, ê°’ë³€í™˜, ì„œë¹„ìŠ¤í˜¸ì¶œ, ë·°ì„ íƒ, ì˜ˆì™¸ì²˜ë¦¬   
--> POJO(Plain Old Java Object)   
   
## ì‹¤ìŠµ ì£¼ì œ   
ê°„ë‹¨í•œ HelloController  ìƒì„± --> hello ìš”ì²­ ì‘ë‹µ êµ¬í˜„   
Controller --> Service --> Respository íë¦„ ë”°ë¼ê°€ê¸°   
Talend í…ŒìŠ¤íŠ¸ --> ìš”ì²­, ì‘ë‹µ í™•ì¸   
   
* ì‹¤ë¬´ ê¸°ì¤€ í”„ë¡œì íŠ¸ êµ¬ì¡°   
   
- ë©”ì¸ í´ë˜ìŠ¤(HelloAppapplication.java)   
- ì½˜íŠ¸ë¡¤ëŸ¬(HelloController.java)   
- ì„œë¹„ìŠ¤(HelloServie.java)   
- ë¦¬í¬ì§€í† ë¦¬(HelloRepository.java)   
   
   
* ë©”ì¸ í´ë˜ìŠ¤ (HelloAppApplication.java)   
				
			package com.example.helloapp;   

			import org.springframework.boot.SpringApplication;
			import org.springframework.boot.autoconfigure.SpringBootApplication;

			@SpringBootApplication
			public class HelloAppApplication {
					public static void main(String[] args) {
				SpringApplication.run(HelloAppApplication.class, args);
					}
			}

* ì»¨íŠ¸ë¡¤ëŸ¬ (HelloController.java)
			
			package com.example.helloapp.controller;

			import com.example.helloapp.service.HelloService;
			import org.springframework.web.bind.annotation.GetMapping;
			import org.springframework.web.bind.annotation.RestController;

			@RestController
			public class HelloController {
					private final HelloService helloService;

					public HelloController(HelloService helloService) {
				this.helloService = helloService;
					}

					@GetMapping("/hello")
					public String hello() {
				return helloService.getHelloMessage();
					}
			}

* ì„œë¹„ìŠ¤ (HelloService.java)
			
			package com.example.helloapp.service;

			import org.springframework.stereotype.Service;

			@Service
			public class HelloService {
					public String getHelloMessage() {
				return "Hello, Web Developer!";
					}
			}

* ë ˆí¬ì§€í† ë¦¬ (HelloRepository.java)

			package com.example.helloapp.repository;

			import org.springframework.stereotype.Repository;

			@Repository
			public class HelloRepository {
					public String fetchGreeting() {
				return "Hello from Repository!";
					}
			}

## Day 1  ê³¼ì œ
1. ìœ„ ì‹¤ìŠµ ê³¼ì œë¥¼ ë³¸ì¸ ë¡œì»¬ í”„ë¡œì íŠ¸ì—ì„œ ì§ì ‘ êµ¬í˜„í•´ë³´ì„¸ìš”(íŒ¨í‚¤ì§€ êµ¬ì¡° ë™ì¼í•˜ê²Œ ìœ ì§€)
ğŸ“‚ ê¸°ë³¸ íŒ¨í‚¤ì§€ êµ¬ì¡°

		com.example.helloapp
		â”œâ”€â”€ HelloAppApplication.java
		â”œâ”€â”€ controller
		â”‚   â””â”€â”€ HelloController.java
		â”œâ”€â”€ service
		â”‚   â””â”€â”€ HelloService.java
		â”œâ”€â”€ repository
		â”‚   â””â”€â”€ HelloRepository.java


2. /hello ì™¸ì— ë³¸ì¸ì´ ë§Œë“  ì„ì˜ì˜ URI /greetë¥¼ ì¶”ê°€ë¡œ ë§Œë“¤ì–´ë³´ê³ , ì‘ë‹µ ë¬¸ìì—´ì„ ë³€ê²½í•´ë³´ì„¸ìš”

			* HelloAppApplication.java
			Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§„ì…ì ì…ë‹ˆë‹¤.

			package com.example.helloapp;

			import org.springframework.boot.SpringApplication;
			import org.springframework.boot.autoconfigure.SpringBootApplication;

			@SpringBootApplication
			public class HelloAppApplication {
					public static void main(String[] args) {
				SpringApplication.run(HelloAppApplication.class, args);
					}
			}

3. HelloServiceì—ì„œ ë‚ ì§œ/ì‹œê°„ ë˜ëŠ” ì´ë¦„ì„ í¬í•¨í•œ ë™ì  ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.

			* HelloController.java
				--> /helloì™€ /greet ë‘ URIë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
				
			package com.example.helloapp.controller;

			import com.example.helloapp.service.HelloService;
			import org.springframework.web.bind.annotation.GetMapping;
			import org.springframework.web.bind.annotation.RestController;

			@RestController
			public class HelloController {

					private final HelloService helloService;

					public HelloController(HelloService helloService) {
				this.helloService = helloService;
					}

					@GetMapping("/hello")
					public String hello() {
				return helloService.getHelloMessage();
					}

					@GetMapping("/greet")
					public String greet() {
				return helloService.getGreetingMessage();
					}
			}

4. Postman ë˜ëŠ” curlì„ í™œìš©í•˜ì—¬ /hello, /greet í˜¸ì¶œ ê²°ê´„ë¥´ ìº¡ì²˜í•´ì„œ í˜¸ì¶œí•˜ì„¸ìš”.
	/greet ìš”ì²­ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê³  ì‘ë‹µ ìº¡ì²˜ í™”ë©´ì„ ì €ì¥í•˜ì„¸ìš”.

			* HelloService.java
				--> Service ê³„ì¸µì—ì„œ ë™ì  ë©”ì‹œì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (í˜„ì¬ ì‹œê°„ í¬í•¨)
				
			package com.example.helloapp.service;

			import com.example.helloapp.repository.HelloRepository;
			import org.springframework.stereotype.Service;

			import java.time.LocalDateTime;

			@Service
			public class HelloService {

					private final HelloRepository helloRepository;

					public HelloService(HelloRepository helloRepository) {
				this.helloRepository = helloRepository;
					}

					public String getHelloMessage() {
				return "Hello, Web Developer!";
					}

					public String getGreetingMessage() {
				String base = helloRepository.fetchGreeting();
				String now = LocalDateTime.now().toString();
				return base + " í˜„ì¬ ì‹œê°„ì€: " + now;
					}
			}

5. ì„ íƒ : HelloRepositoryë¥¼ í™œìš©í•´ Serviceì—ì„œ ë°ì´í„°ë¥¼ ì£¼ì…ë°›ì•„ë³´ì„¸ìš”(ì˜ì¡´ì„± ì£¼ì… ì‹¤ìŠµ)
	* HelloRepository.java (ì„ íƒ ì‚¬í•­)
	  --> package com.example.helloapp.repository;

			import org.springframework.stereotype.Repository;

			@Repository
			public class HelloRepository {
					public String fetchGreeting() {
				return "ì•ˆë…•í•˜ì„¸ìš”! ì´ê²ƒì€ Repositoryì—ì„œ ê°€ì ¸ì˜¨ ì¸ì‚¬ì…ë‹ˆë‹¤.";
					}
			}



## ê²€ì¦ê³¼ ì˜ˆì™¸ ì²˜ë¦¬

## ë¬¸ì œ 1

`UserDto` í´ë˜ìŠ¤ì— ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í•„ë“œë¥¼ ì„ ì–¸í•˜ê³ , ì•Œë§ì€ ê²€ì¦ ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ì„¸ìš”.

* ì´ë¦„(name): 2\~20ì, ê³µë°± ë¶ˆê°€
* ì´ë©”ì¼(email): ì´ë©”ì¼ í˜•ì‹ í•„ìˆ˜
* ë‚˜ì´(age): null ë¶ˆê°€, 18ì„¸ ì´ìƒ


		// UserDto.java
		public class UserDto {

		    @NotBlank(message = "ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
		    @Size(min = 2, max = 20, message = "ì´ë¦„ì€ 2ì ì´ìƒ 20ì ì´í•˜ë¡œ ì…ë ¥í•˜ì„¸ìš”.")
		    private String name;

		    @Email(message = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”.")
		    private String email;

		    @NotNull(message = "ë‚˜ì´ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.")
		    @Min(value = 18, message = "18ì„¸ ì´ìƒë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.")
		    private Integer age;

		    // getters, setters
		}




## ë¬¸ì œ 2

ì‘ì„±í•œ `UserDto`ì— ëŒ€í•´ POST ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” `UserController`ì˜ `/users` APIë¥¼ ë§Œë“¤ê³ ,
`@Valid`ë¥¼ ì ìš©í•´ ìœ íš¨ì„± ê²€ì¦ì„ ìˆ˜í–‰í•˜ì„¸ìš”.
ì˜ˆì™¸ ë°œìƒ ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ 400 ì˜¤ë¥˜ê°€ ë°œìƒí•´ì•¼ í•©ë‹ˆë‹¤.


		// UserController.java
		@RestController
		@RequestMapping("/users")
		public class UserController {

		    @PostMapping
		    public ResponseEntity<String> createUser(@RequestBody @Valid UserDto userDto) {
			// ì €ì¥ ë¡œì§ ìƒëµ
			return ResponseEntity.ok("ì‚¬ìš©ì ë“±ë¡ ì™„ë£Œ");
		    }
		}

## ë¬¸ì œ 3

`UserDto`ì—ì„œ ì´ë¦„(name) í•„ë“œê°€ ìœ íš¨í•˜ì§€ ì•Šì„ ê²½ìš°,
â€œì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤â€ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ ì¶œë ¥ë˜ë„ë¡ ì„¤ì •í•˜ì„¸ìš”.


		@NotBlank(message = "ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
		@Size(min = 2, message = "ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.")




## ë¬¸ì œ 4

ìœ íš¨í•˜ì§€ ì•Šì€ ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ   
í•„ë“œë³„ë¡œ `"í•„ë“œëª…": "ì—ëŸ¬ ë©”ì‹œì§€"` í˜•íƒœì˜ JSON ì‘ë‹µì´ ë‚´ë ¤ê°€ë„ë¡   
`GlobalExceptionHandler`ë¥¼ ì‘ì„±í•˜ì„¸ìš”.   
íŒíŠ¸: `MethodArgumentNotValidException` ì²˜ë¦¬   


		// GlobalExceptionHandler.java
		@ExceptionHandler(MethodArgumentNotValidException.class)
		public ResponseEntity<Map<String, String>> handleValidationErrors(MethodArgumentNotValidException ex) {
		    Map<String, String> errors = new HashMap<>();
		    ex.getBindingResult().getFieldErrors().forEach(error ->
			errors.put(error.getField(), error.getDefaultMessage()));
		    return ResponseEntity.badRequest().body(errors);
		}

## ë¬¸ì œ 5

`UserController`ì—ì„œ `/users/{id}` ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ   
ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìë¼ë©´ `NotFoundException`ì„ ë°œìƒì‹œí‚¤ê³ ,   
404 ì—ëŸ¬ì™€ í•¨ê»˜ `"ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"` ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ì„¸ìš”.   

		@GetMapping("/{id}")
		public ResponseEntity<UserDto> getUser(@PathVariable Long id) {
		    UserDto user = userService.findById(id)
			.orElseThrow(() -> new NotFoundException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"));
		    return ResponseEntity.ok(user);
		}



## ë¬¸ì œ 6

`NotFoundException` í´ë˜ìŠ¤ì™€ ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ”   
`@ExceptionHandler` ë©”ì„œë“œë¥¼ `GlobalExceptionHandler`ì— ì¶”ê°€í•˜ì„¸ìš”.   

		// NotFoundException.java
		public class NotFoundException extends RuntimeException {
		    public NotFoundException(String message) {
			super(message);
		    }
		}

		// GlobalExceptionHandler.java
		@ExceptionHandler(NotFoundException.class)
		public ResponseEntity<Map<String, String>> handleNotFound(NotFoundException ex) {
		    Map<String, String> error = new HashMap<>();
		    error.put("message", ex.getMessage());
		    return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);
		}




## ë¬¸ì œ 7

ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ìœ íš¨ì„± ê²€ì¦ì„ í†µê³¼í•˜ì§€ ëª»í•˜ë„ë¡ `UserDto`ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.   

* ì´ë©”ì¼ í˜•ì‹ì´ ì˜ëª»ë¨   
* ë‚˜ì´ê°€ null   
* ì´ë¦„ì´ ê³µë°± ë¬¸ìì—´(" ")   

ê° í•„ë“œì— ì–´ë…¸í…Œì´ì…˜ì„ ì •í™•íˆ ì ìš©í•˜ì„¸ìš”.   

		@Email(message = "ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.")
		@NotNull(message = "ë‚˜ì´ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.")
		@NotBlank(message = "ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")



## ë¬¸ì œ 8

Talend API Testerë¡œ
ìœ íš¨í•˜ì§€ ì•Šì€ JSON ìš”ì²­ì„ ì „ì†¡í•˜ê³ ,
í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ë–¤ ì‘ë‹µì„ ë°›ëŠ”ì§€ í™•ì¸ í›„ ì‘ë‹µ ê²°ê³¼ë¥¼ ë³µì‚¬í•´ë³´ì„¸ìš”.
(ì˜ˆ: í•„ë“œ ëˆ„ë½, ì˜ëª»ëœ í˜•ì‹ ë“±)

		json
		// ìš”ì²­ JSON (ë¬¸ì œ ìˆëŠ” ì…ë ¥)
		{
		  "name": "",
		  "email": "not-an-email",
		  "age": null
		}

		// ì‘ë‹µ JSON
		{
		  "name": "ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
		  "email": "ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.",
		  "age": "ë‚˜ì´ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤."
		}




## ë¬¸ì œ 9

ìœ íš¨ì„± ì‹¤íŒ¨ ì‹œ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœì˜ JSON ì‘ë‹µì´ ë‚´ë ¤ê°€ë„ë¡ í•˜ì„¸ìš”:

		json
		{
		  "name": "ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤",
		  "email": "ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤"
		}


		json
		{
		  "name": "ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤",
		  "email": "ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤"
		}




## ë¬¸ì œ 10

`@Valid`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìœ íš¨ì„± ê²€ì¦ì„ ìˆ˜í–‰í–ˆì„ ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œì ì€ ë¬´ì—‡ì¸ì§€ ì½”ë“œ ì˜ˆì‹œì™€ í•¨ê»˜ ì„¤ëª…í•˜ì„¸ìš”.
ê·¸ë¦¬ê³  ì™œ `@Valid`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•œì§€ ê¸°ìˆ í•˜ì„¸ìš”.


		// ì˜ëª»ëœ ì˜ˆ (ìœ íš¨ì„± ê²€ì¦ ëˆ„ë½)
		@PostMapping
		public ResponseEntity<String> create(@RequestBody UserDto dto) {
		    // ê²€ì¦ ë¡œì§ ì—†ìŒ â†’ ì˜ëª»ëœ ë°ì´í„°ê°€ ì €ì¥ë  ìˆ˜ ìˆìŒ
		    return ResponseEntity.ok("ë“±ë¡ë¨");
		}

		// ê¶Œì¥ ë°©ì‹
		@PostMapping
		public ResponseEntity<String> create(@RequestBody @Valid UserDto dto) {
		    return ResponseEntity.ok("ë“±ë¡ë¨");
		}

		// ì´ìœ : @ValidëŠ” ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ìˆ˜í–‰ ë° ì˜ˆì™¸ ë°œìƒì‹œì¼œì¤Œ.
		// ì½”ë“œê°€ ê°„ê²°í•˜ê³  ì‹ ë¢°ì„±ì´ ë†’ì•„ì§
